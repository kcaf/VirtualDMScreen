!function(){function e(e){if("number"!=typeof e.length||0===e.length)return[];var t=[];for(var i in e[0])t.push({headerText:i,rowText:i});return t}ko.simpleGrid={viewModel:function(t){this.data=t.data,this.currentPageIndex=ko.observable(0),this.pageSize=t.pageSize||5,this.type=t.type,this.padding=3,this.columns=t.columns||e(ko.unwrap(this.data)),this.itemsOnCurrentPage=ko.computed(function(){var e=this.pageSize*this.currentPageIndex();return ko.unwrap(this.data).slice(e,e+this.pageSize)},this),this.maxPageIndex=ko.computed(function(){return Math.ceil(ko.unwrap(this.data).length/this.pageSize)-1},this),this.isMin=ko.computed(function(){return this.currentPageIndex()<=0},this),this.isMax=ko.computed(function(){return this.currentPageIndex()>=this.maxPageIndex()},this)}},ko.bindingHandlers.simpleGrid={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t,i){for(var r=t();e.firstChild;)ko.removeNode(e.firstChild);var n=i.get("simpleGridTemplate")||"ko_simpleGrid_grid",a=i.get("simpleGridPagerTemplate")||"ko_simpleGrid_pageLinks",o=e.appendChild(document.createElement("DIV"));switch(t().type){case"spells":ko.renderTemplate("ko_spellsgrid_template",r,{},o,"replaceNode");break;case"npcs":ko.renderTemplate("ko_npcsgrid_template",r,{},o,"replaceNode");break;case"lootsearch":ko.renderTemplate("ko_lootgrid_template",r,{},o,"replaceNode");break;default:ko.renderTemplate(n,r,{},o,"replaceNode")}var s=e.appendChild(document.createElement("DIV"));ko.renderTemplate(a,r,{},s,"replaceNode")}}}();